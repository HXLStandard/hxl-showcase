########################################################################
# Rewrite rules for clean URLs.
########################################################################

<ifmodule mod_rewrite.c>

RewriteEngine On

RewriteBase /

#
# Patterns for static files
# (add any additional ones here)
#
RewriteRule ^images/    -               [L]
RewriteRule ^style/     -               [L]
RewriteRule ^scripts/   -               [L]

RewriteRule ^search$ index.php?p=search [QSA,L]

RewriteRule ^report$ index.php?p=report [QSA,L]

RewriteRule ^data$ index.php?p=source-list [QSA,L]

RewriteRule ^data/([^/]+)$ index.php?p=source&source=$1 [QSA,L]

RewriteRule ^data/([^/]+)/([^/]+)$ index.php?p=dataset&source=$1&dataset=$2 [QSA,L]

RewriteRule ^data/([^/]+)/([^/]+)/([^/]+)$ index.php?p=import&source=$1&dataset=$2&import=$3 [QSA,L]

RewriteRule ^code$ index.php?p=code-list [QSA,L]

RewriteRule ^code/([^/]+)$ index.php?p=code&code=$1 [QSA,L]

RewriteRule ^user$ index.php?p=user-list [QSA,L]

RewriteRule ^user/([^/]+)$ index.php?p=user&user=$1 [QSA,L]

#
# Everything else goes to index.php
#
RewriteRule ^(.*)$      index.php?p=$1  [QSA,L]

</ifmodule>
